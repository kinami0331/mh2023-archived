(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1126],{89598:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"}},58338:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"}},15295:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let o=(n=r(69615))&&n.__esModule?n:{default:n};t.default=o,e.exports=o},46912:function(e,t,r){"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return u}});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(2265)),o=a(r(89598)),i=a(r(51718));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=n.forwardRef(function(e,t){var r,a;return n.createElement(i.default,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),a=a={ref:t,icon:o.default},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))})},69615:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(2265)),o=a(r(58338)),i=a(r(51718));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=n.forwardRef(function(e,t){var r,a;return n.createElement(i.default,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),a=a={ref:t,icon:o.default},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))})},54191:function(e,t,r){"use strict";var n=r(26314).default,o=r(36199).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.withPureRenderTheme=u;var i=o(r(2265)),a=n(r(2960)),s=o(r(9273));function u(e){return t=>i.createElement(s.default,{theme:{token:{motion:!1,zIndexPopupBase:0}}},i.createElement(e,Object.assign({},t)))}t.default=(e,t,r,n)=>u(o=>{let{prefixCls:u,style:c}=o,l=i.useRef(null),[f,d]=i.useState(0),[p,v]=i.useState(0),[h,b]=(0,a.default)(!1,{value:o.open}),{getPrefixCls:m}=i.useContext(s.ConfigContext),w=m(t||"select",u);i.useEffect(()=>{if(b(!0),"undefined"!=typeof ResizeObserver){let e=new ResizeObserver(e=>{let t=e[0].target;d(t.offsetHeight+8),v(t.offsetWidth)}),t=setInterval(()=>{var n;let o=r?`.${r(w)}`:`.${w}-dropdown`,i=null===(n=l.current)||void 0===n?void 0:n.querySelector(o);i&&(clearInterval(t),e.observe(i))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let g=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},c),{margin:0}),open:h,visible:h,getPopupContainer:()=>l.current});return n&&(g=n(g)),i.createElement("div",{ref:l,style:{paddingBottom:f,position:"relative",minWidth:p}},i.createElement(e,Object.assign({},g)))})},22581:function(e,t,r){"use strict";var n=r(36199).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let[,e]=o.useReducer(e=>e+1,0);return e};var o=n(r(2265))},90962:function(e,t,r){"use strict";var n=r(26314).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let[,e]=(0,i.useToken)(),t=s(u(e));return o.default.useMemo(()=>{let e=new Map,r=-1,n={};return{matchHandlers:{},dispatch:t=>(n=t,e.forEach(e=>e(n)),e.size>=1),subscribe(t){return e.size||this.register(),r+=1,e.set(r,t),t(n),r},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(t).forEach(e=>{let r=t[e],n=this.matchHandlers[r];null==n||n.mql.removeListener(null==n?void 0:n.listener)}),e.clear()},register(){Object.keys(t).forEach(e=>{let r=t[e],o=t=>{let{matches:r}=t;this.dispatch(Object.assign(Object.assign({},n),{[e]:r}))},i=window.matchMedia(r);i.addListener(o),this.matchHandlers[r]={mql:i,listener:o},o(i)})},responsiveMap:t}},[e])},t.responsiveArray=t.matchScreen=void 0;var o=n(r(2265)),i=r(18710);let a=t.responsiveArray=["xxl","xl","lg","md","sm","xs"],s=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),u=e=>{let t=[].concat(a).reverse();return t.forEach((r,n)=>{let o=r.toUpperCase(),i=`screen${o}Min`,a=`screen${o}`;if(!(e[i]<=e[a]))throw Error(`${i}<=${a} fails : !(${e[i]}<=${e[a]})`);if(n<t.length-1){let r=`screen${o}Max`;if(!(e[a]<=e[r]))throw Error(`${a}<=${r} fails : !(${e[a]}<=${e[r]})`);let i=t[n+1].toUpperCase(),s=`screen${i}Min`;if(!(e[r]<=e[s]))throw Error(`${r}<=${s} fails : !(${e[r]}<=${e[s]})`)}}),e};t.matchScreen=(e,t)=>{if(t&&"object"==typeof t)for(let r=0;r<a.length;r++){let n=a[r];if(e[n]&&void 0!==t[n])return t[n]}}},14713:function(e,t,r){"use strict";var n=r(26314).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(2265),i=n(r(54578)),a=n(r(22581)),s=n(r(90962));t.default=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,o.useRef)({}),r=(0,a.default)(),n=(0,s.default)();return(0,i.default)(()=>{let o=n.subscribe(n=>{t.current=n,e&&r()});return()=>n.unsubscribe(o)},[]),t.current}},50146:function(e,t,r){Promise.resolve().then(r.bind(r,80488))},80488:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var n=r(35029),o=r(88965),i=r(24670),a=r(57437),s=r(2265),u=r(20273),c=r(88110),l=r.n(c),f=r(79404),d=r(43574),p=r(33116),v=r(33071),h=r(46912),b=r(24234),m=r(67912),w=r(74850),g=r.n(w),y=r(43194),O=r(24033),j=r(46373),_=r(54477);function x(){var e=(0,s.useContext)(y._s),t=e.info,r=e.reloadInfo,c=(0,i._)((0,s.useState)(!1),2),w=c[0],x=c[1],P=(0,i._)((0,s.useState)(!1),2),C=P[0],E=P[1],S=(0,O.useRouter)(),M=(0,i._)(v.Z.useModal(),2),k=M[0],$=M[1],R=(0,i._)(p.ZP.useMessage(),2),Z=R[0],A=R[1];if("error"===t.status)throw new _.sF;return t.user?(0,a.jsxs)("div",{children:[$,A,(0,a.jsx)(u.Z,{showIcon:!0,message:(0,a.jsx)("b",{children:"注意事项"}),description:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"你可以在这里修改你的密码，但是总是使用随机强密码是一个好习惯。网站的登录有效期足够长，并且没有限制单一设备登陆，正常情况下不会需要你输入很多次密码。"}),(0,a.jsx)("p",{children:"如果你相信我们不会明文存储你的当前密码和历史使用密码，可以在此修改你的密码。"}),(0,a.jsx)("p",{children:"注意，手动修改密码是立即生效的，修改后只能用新密码登录。"})]})}),(0,a.jsx)("br",{}),(0,a.jsx)(j.Z,(0,o._)((0,n._)({title:"修改密码"},{size:"small",type:"inner",bordered:!1}),{children:(0,a.jsxs)(f.Z,(0,o._)((0,n._)({name:"public"},{colon:!1,labelCol:{span:6},labelWrap:!0,wrapperCol:{span:13}}),{onFinish:function(e){if(C){Z.error({content:"密码格式错误！",key:"CHANGE_PASSWORD",duration:3}).then();return}if(w){Z.error({content:"两次密码不一样！",key:"CHANGE_PASSWORD",duration:3}).then();return}k.confirm({title:"警告",icon:(0,a.jsx)(b.default,{}),content:(0,a.jsx)(a.Fragment,{children:"确定修改密码"}),onOk:function(){if("error"===t.status||!t.user)throw new _.sF;Z.loading({content:"修改中，请稍候",key:"CHANGE_PASSWORD",duration:5}).then();var n=g()(e.old_password+"email:"+t.user.profile.email.toLowerCase()).toString(),o=g()(e.new_password+"email:"+t.user.profile.email.toLowerCase()).toString();(0,m.HC)({endpoint:"user/change_password",payload:{old_password:n,new_password:o}}).then(function(e){"error"===e.status?Z.error({content:e.message,key:"CHANGE_PASSWORD",duration:3}).then():(Z.success({content:"修改成功，请重新登录",key:"CHANGE_PASSWORD",duration:3}).then(),r().then(function(){S.push("/login")}))})},onCancel:function(){}})},onValuesChange:function(e,t){if(t.new_password||(t.new_password=""),t.new_password_2||(t.new_password_2=""),t.old_password||(t.old_password=""),x(t.new_password!==t.new_password_2),""!==t.new_password){var r;E((r=t.new_password,!/^[a-zA-Z0-9_+\-=&!@#$%^*()]{8,16}$/.test(r)))}},children:[(0,a.jsx)(f.Z.Item,{name:"old_password",label:"旧密码",children:(0,a.jsx)(d.default.Password,{maxLength:16,showCount:!0})}),(0,a.jsx)(f.Z.Item,{name:"new_password",label:"新密码",extra:(0,a.jsxs)(a.Fragment,{children:["密码应为8到16位，只能包含字母、数字以及 _+-&=!@#$%^*()",C&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("span",{style:{color:"red",fontStyle:"italic"},children:" 密码格式错误 "})]})]}),children:(0,a.jsx)(d.default.Password,{maxLength:16,showCount:!0,visibilityToggle:!0})}),(0,a.jsx)(f.Z.Item,{name:"new_password_2",label:"新密码确认",extra:w&&(0,a.jsx)("span",{style:{color:"red",fontStyle:"italic"},children:" 两次密码不一样 "}),children:(0,a.jsx)(d.default.Password,{maxLength:16,showCount:!0,visibilityToggle:!0})}),(0,a.jsxs)(l(),{type:"primary",size:"large",block:!0,htmlType:"submit",children:[(0,a.jsx)(h.Z,{})," 修改密码"]})]}))})),(0,a.jsx)("br",{})]}):(0,a.jsx)(u.Z,{type:"error",showIcon:!0,message:"未登录",description:"请登录后查看"})}function P(){return(0,a.jsx)(x,{})}},46373:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(35029),o=r(57437),i=r(28170),a=r(37168),s=r.n(a);function u(e){return(0,o.jsx)("div",{className:s().FancyCard,children:(0,o.jsx)(i.Z,(0,n._)({},e))})}r(2265)},35239:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var n=r(57437),o=r(26782);function i(){return(0,n.jsx)("div",{children:(0,n.jsx)(o.default,{active:!0,paragraph:!0})})}},54477:function(e,t,r){"use strict";r.d(t,{$v:function(){return c},Dc:function(){return l},_e:function(){return u},sF:function(){return s}});var n=r(22977),o=r(6408),i=r(56417),a=r(93891),s=function(e){(0,o._)(r,e);var t=(0,a._)(r);function r(e){var o;return(0,n._)(this,r),(o=t.call(this,e||"")).name="NeverError",o}return r}((0,i._)(Error)),u=function(e){(0,o._)(r,e);var t=(0,a._)(r);function r(e){var o;return(0,n._)(this,r),(o=t.call(this,e||"")).name="InfoError",o}return r}((0,i._)(Error)),c=function(e){(0,o._)(r,e);var t=(0,a._)(r);function r(e){var o;return(0,n._)(this,r),(o=t.call(this,e||"")).name="NotStaffError",o}return r}((0,i._)(Error)),l=function(e){(0,o._)(r,e);var t=(0,a._)(r);function r(e,o){var i;return(0,n._)(this,r),(i=t.call(this,e||"")).name="DataError",i.title=o,i}return r}((0,i._)(Error))},43194:function(e,t,r){"use strict";r.d(t,{$3:function(){return l},_s:function(){return u},ei:function(){return f},t3:function(){return c}});var n=r(57437),o=r(2265),i=r(59666),a=r(35239),s=r(54477),u=(0,o.createContext)(void 0);function c(e){var t=e.children,r=(0,i.L)({endpoint:"game/game_info"}),o=r.data,s=r.mutate;return o?(0,n.jsx)(u.Provider,{value:{info:o,reloadInfo:s},children:t}):(0,n.jsx)(a.g,{})}function l(){return(0,o.useContext)(u).info}function f(){var e=l();if("success"!==e.status)throw new s._e;return e}},59666:function(e,t,r){"use strict";r.d(t,{F:function(){return a},L:function(){return i}});var n=r(42333),o=r(67912);function i(e){var t=(0,n.ZP)(e,function(e){return(0,o.HC)(e)},{refreshInterval:18e5});return{data:t.data,mutate:t.mutate}}function a(e){var t=(0,n.ZP)(e,function(e){return(0,o.HC)(e)});return{data:t.data,mutate:t.mutate}}},37168:function(e){e.exports={FancyCard:"FancyCard_FancyCard__Cy__6"}},24033:function(e,t,r){e.exports=r(20290)},23803:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var n=r(13428),o=r(21076),i=r(98961),a=r(82554),s=r(16758),u=r(54440),c=r.n(u),l=r(17146),f=r(2265),d=r(89017),p=r(43197),v=d.Z.ESC,h=d.Z.TAB,b=(0,f.forwardRef)(function(e,t){var r=e.overlay,n=e.arrow,o=e.prefixCls,i=(0,f.useMemo)(function(){return"function"==typeof r?r():r},[r]),a=(0,l.sQ)(t,null==i?void 0:i.ref);return f.createElement(f.Fragment,null,n&&f.createElement("div",{className:"".concat(o,"-arrow")}),f.cloneElement(i,{ref:(0,l.Yr)(i)?a:void 0}))}),m={adjustX:1,adjustY:1},w=[0,0],g={topLeft:{points:["bl","tl"],overflow:m,offset:[0,-4],targetOffset:w},top:{points:["bc","tc"],overflow:m,offset:[0,-4],targetOffset:w},topRight:{points:["br","tr"],overflow:m,offset:[0,-4],targetOffset:w},bottomLeft:{points:["tl","bl"],overflow:m,offset:[0,4],targetOffset:w},bottom:{points:["tc","bc"],overflow:m,offset:[0,4],targetOffset:w},bottomRight:{points:["tr","br"],overflow:m,offset:[0,4],targetOffset:w}},y=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"],O=f.forwardRef(function(e,t){var r,u,d,m,w,O,j,_,x,P,C,E,S,M,k=e.arrow,$=void 0!==k&&k,R=e.prefixCls,Z=void 0===R?"rc-dropdown":R,A=e.transitionName,D=e.animation,N=e.align,F=e.placement,L=e.placements,W=e.getPopupContainer,z=e.showAction,H=e.hideAction,I=e.overlayClassName,T=e.overlayStyle,V=e.visible,G=e.trigger,B=void 0===G?["hover"]:G,X=e.autoFocus,Y=e.overlay,q=e.children,Q=e.onVisibleChange,U=(0,a.Z)(e,y),J=f.useState(),K=(0,i.Z)(J,2),ee=K[0],et=K[1],er="visible"in e?V:ee,en=f.useRef(null),eo=f.useRef(null),ei=f.useRef(null);f.useImperativeHandle(t,function(){return en.current});var ea=function(e){et(e),null==Q||Q(e)};u=(r={visible:er,triggerRef:ei,onVisibleChange:ea,autoFocus:X,overlayRef:eo}).visible,d=r.triggerRef,m=r.onVisibleChange,w=r.autoFocus,O=r.overlayRef,j=f.useRef(!1),_=function(){if(u){var e,t;null===(e=d.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),null==m||m(!1)}},x=function(){var e;return null!==(e=O.current)&&void 0!==e&&!!e.focus&&(O.current.focus(),j.current=!0,!0)},P=function(e){switch(e.keyCode){case v:_();break;case h:var t=!1;j.current||(t=x()),t?e.preventDefault():_()}},f.useEffect(function(){return u?(window.addEventListener("keydown",P),w&&(0,p.Z)(x,3),function(){window.removeEventListener("keydown",P),j.current=!1}):function(){j.current=!1}},[u]);var es=function(){return f.createElement(b,{ref:eo,overlay:Y,prefixCls:Z,arrow:$})},eu=f.cloneElement(q,{className:c()(null===(M=q.props)||void 0===M?void 0:M.className,er&&(void 0!==(C=e.openClassName)?C:"".concat(Z,"-open"))),ref:(0,l.Yr)(q)?(0,l.sQ)(ei,q.ref):void 0}),ec=H;return ec||-1===B.indexOf("contextMenu")||(ec=["click"]),f.createElement(s.Z,(0,n.Z)({builtinPlacements:void 0===L?g:L},U,{prefixCls:Z,ref:en,popupClassName:c()(I,(0,o.Z)({},"".concat(Z,"-show-arrow"),$)),popupStyle:T,action:B,showAction:z,hideAction:ec,popupPlacement:void 0===F?"bottomLeft":F,popupAlign:N,popupTransitionName:A,popupAnimation:D,popupVisible:er,stretch:(E=e.minOverlayWidthMatchTrigger,S=e.alignPoint,"minOverlayWidthMatchTrigger"in e?E:!S)?"minWidth":"",popup:"function"==typeof Y?es:es(),onPopupVisibleChange:ea,onPopupClick:function(t){var r=e.onOverlayClick;et(!1),r&&r(t)},getPopupContainer:W}),eu)})}},function(e){e.O(0,[5583,4410,6857,6126,5193,6559,5682,8110,8051,2044,3706,6744,4840,9397,273,3116,4417,3570,8170,9404,3071,2169,2971,7864,1744],function(){return e(e.s=50146)}),_N_E=e.O()}]);