(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1228],{45407:function(e,n,t){var r={"./backstage_finalmeta.js":[36807,6807],"./backstage_losttown_meta.js":[27830,7830],"./backstage_meta.js":[13426,3426],"./losttown_01.js":[78822,8822],"./losttown_02.js":[2403,2403],"./losttown_03.js":[30236,236],"./losttown_04.js":[81668,1668],"./losttown_05.js":[43937,3937],"./losttown_06.js":[77442,7442],"./losttown_07.js":[17666,7666],"./losttown_08.js":[26259,6259],"./losttown_09.js":[46169,6169],"./losttown_10.js":[95466,5466],"./losttown_11.js":[79218,9218],"./losttown_12.js":[19731,9731],"./losttown_finalmeta.js":[35774,5774],"./losttown_meta.js":[97250,7250],"./neverland_01.js":[20028,28],"./neverland_02.js":[25866,5866],"./neverland_03.js":[56191,6191],"./neverland_04.js":[58001,8001],"./neverland_05.js":[39677,9677],"./neverland_06.js":[83085,3085],"./neverland_07.js":[63846,3846],"./neverland_08.js":[48105,8105],"./neverland_09.js":[32987,2987],"./neverland_10.js":[98183,8183],"./neverland_11.js":[14772,4772],"./neverland_12.js":[72023,2023],"./neverland_finalmeta.js":[84941,4941],"./round1_01.js":[22779,2779],"./round1_02.js":[71566,1566],"./round1_03.js":[70995,995],"./round1_04.js":[1645,1645],"./round1_05.js":[94038,4038],"./round1_06.js":[42670,2670],"./round1_07.js":[57344,7344],"./round1_08.js":[3760,3760],"./round1_09.js":[15030,5030],"./round1_10.js":[65893,5893],"./round1_11.js":[23126,3126],"./round1_12.js":[31186,1186],"./round1_meta.js":[65750,5750],"./round2_01.js":[4101,4101],"./round2_02.js":[30232,232],"./round2_03.js":[62610,2610],"./round2_04.js":[83302,3302],"./round2_05.js":[10220,220],"./round2_06.js":[47067,7067],"./round2_07.js":[65179,5179],"./round2_08.js":[64816,4816],"./round2_09.js":[12633,2633],"./round2_10.js":[56379,6379],"./round2_11.js":[12047,2047],"./round2_12.js":[35331,5331],"./round2_meta.js":[72862,2862],"./round3_01.js":[67369,7369],"./round3_02.js":[23538,3538],"./round3_03.js":[76129,6129],"./round3_04.js":[2373,2373],"./round3_05.js":[865,865],"./round3_06.js":[37764,7764],"./round3_07.js":[19126,9126],"./round3_08.js":[26408,6408],"./round3_09.js":[2957,2957],"./round3_10.js":[38068,8068],"./round3_11.js":[55142,5142],"./round3_12.js":[87679,7679],"./round3_meta.js":[49583,9583]};function a(e){if(!t.o(r,e))return Promise.resolve().then(function(){var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n});var n=r[e],a=n[0];return t.e(n[1]).then(function(){return t(a)})}a.keys=function(){return Object.keys(r)},a.id=45407,e.exports=a},42480:function(){},75042:function(){},5816:function(e,n,t){"use strict";t.d(n,{$q:function(){return l},BB:function(){return a},Gb:function(){return s},eD:function(){return o},fL:function(){return d},fY:function(){return c},yA:function(){return f},yI:function(){return i}});var r=t(57437),a=(0,r.jsx)("img",{src:"miao-logo-title.svg",className:"game-logo",alt:"game-logo"}),s=(0,r.jsx)("img",{src:"miao-logo-admin.svg",className:"game-logo",alt:"game-logo"}),o=(0,r.jsx)("img",{src:"miao-logo-title-bottom.svg",className:"game-logo",alt:"game-logo"}),u="/service/",i=u+"wish/",c=u+"auth/",l=u+"template/",d=u+"ws/",f="1200px"},14227:function(e,n,t){"use strict";t.d(n,{Ym:function(){return f},HC:function(){return d}}),t(5816);var r=t(35029),a=t(38225),s=t(1801);function o(e){var n,t=[[1,2,4,8,16].includes(n=e.length)?n:0,Array.from(e).filter(function(e){return"aeiou".includes(e)}).length,e.length-new Set(e).size,e.split("c").length-1,4*(e.match(/m/g)||[]).length,9*(e.match(/u/g)||[]).length,e.endsWith("ing")?9:0];return(0,s._)(t).concat([t.reduce(function(e,n){return e+n},0)])}function u(e,n){return[[0,2,0,1,4,9,0,16],[8,4,0,0,0,9,0,21],[0,3,4,2,0,0,9,18],[4,1,0,1,4,9,0,19],[0,3,1,0,8,9,0,21],[0,2,5,2,0,0,0,9],[8,3,0,0,0,0,9,20]][n].map(function(n,t){return e[t]===n})}function i(e){return Array.isArray(e)&&8===e.length&&e.every(function(e){return"boolean"==typeof e})}function c(){var e=Array(8).fill(!1);try{var n=JSON.parse(sessionStorage.getItem("neverland_09_state"));return i(n)?n:e}catch(n){return e}}function l(e){var n=i(e)?e:Array(8).fill(!1);sessionStorage.setItem("neverland_09_state",JSON.stringify(n))}function d(e){var n,s,i;return s=(n={endpoint:e.endpoint,payload:e.payload}).endpoint,i=n.payload,new Promise(function(e){var n,d={status:"error",title:"NOT FOUND",message:"NOT FOUND!"};switch(s){case"game/game_info":t.e(3048).then(t.bind(t,33048)).then(function(t){var a=t.default,s=(new Date().getUTCHours()+8)%24;6<=s&&s<14?(a.unlock_areas[0].img="media/home/miao-town-1.webp",a.unlock_areas[1].img="media/home/landing-site-1.webp",a.unlock_areas[2].img="media/home/neverland-1.webp",a.unlock_areas[3].img="media/home/losttown-1.webp"):14<=s&&s<20?(a.unlock_areas[0].img="media/home/miao-town-2.webp",a.unlock_areas[1].img="media/home/landing-site-2.webp",a.unlock_areas[2].img="media/home/neverland-2.webp",a.unlock_areas[3].img="media/home/losttown-2.webp"):(a.unlock_areas[0].img="media/home/miao-town-3.webp",a.unlock_areas[1].img="media/home/landing-site-3.webp",a.unlock_areas[2].img="media/home/neverland-3.webp",a.unlock_areas[3].img="media/home/losttown-3.webp"),e(n=(0,r._)({status:"success"},a))});break;case"game/get_board":t.e(7631).then(t.bind(t,27631)).then(function(t){var r=t.default;e(n=i.board_key in r?{status:"success",data:r[i.board_key]}:d)});break;case"game/get_area_detail":t.e(174).then(t.bind(t,90174)).then(function(t){var r=t.default;e(n=i.area_name in r?{status:"success",data:r[i.area_name]}:d)});break;case"admin/get_status":t.e(2172).then(t.bind(t,52172)).then(function(t){e(n={status:"success",data:t.default.admin_status})});break;case"admin/get_puzzle_list":t.e(2172).then(t.bind(t,52172)).then(function(t){e(n={status:"success",data:t.default.backstage_info})});break;case"game/get_announcements":t.e(1956).then(t.bind(t,61956)).then(function(t){e(n={status:"success",data:t.default.announcements})});break;case"game/get_schedule":t.e(1956).then(t.bind(t,61956)).then(function(t){e(n={status:"success",data:t.default.schedule})});break;case"puzzle/get_detail":var f=i.puzzle_key;t(45407)("./".concat(f,".js")).then(function(n){"neverland_09"===f?e({status:"success",data:function(e){for(var n=c(),t="",r=0;r<n.length;r++)n[r]||(t+=""+r);var a="media/puzzle/neverland_09/CI[".concat(t,"].webp"),s=JSON.parse(JSON.stringify(e));return s.desc=s.desc.replace("media/puzzle/neverland_09/CI[01234567].webp",a),s}(n.default)}):e({status:"success",data:n.default})}).catch(function(){e({status:"error",message:"题目信息获取失败"})});break;case"puzzle/get_hints":t.e(9759).then(t.bind(t,19759)).then(function(t){var r=t.default;e(n=i.puzzle_key in r?{status:"success",hints:r[i.puzzle_key]}:d)});break;case"game/get_scene":t.e(9873).then(t.bind(t,79873)).then(function(t){var r=t.default;e(n=i.key in r?{status:"success",data:r[i.key].content}:d)});break;case"puzzle/submit_answer":t.e(8279).then(t.bind(t,28279)).then(function(t){var r=t.default;if(i.puzzle_key in r){var s=(0,a.oS)(i.content);if(s in r[i.puzzle_key]){var o,u,d=r[i.puzzle_key][s];"answer"===d.type?n={status:"success",title:"答案正确",message:d.info}:"milestone"===d.type?(n={status:"info",title:"里程碑",message:d.info},"neverland_09"===i.puzzle_key&&(o=c(),s in(u={rice:0,woods:1,tiled:2,bisley:3,akimbo:4,banana:5,ceramic:6,asterisk:7})?(o[u[s]]=!0,l(o)):"reset"===s&&l([]),n.need_reload=!0)):n={status:"error",title:"答案错误",message:"答错了喵，遗憾喵。"}}else n={status:"error",title:"答案错误",message:"答错了喵，遗憾喵。"}}else n={status:"error",title:"出错了喵！",message:"题目不存在喵！你是怎么做到的喵？"};e(n)});break;case"special/starriver_check":var m=Number(i.day);isNaN(m)&&(m=0);var _=Number(i.month);isNaN(_)&&(_=0),e(function(e,n){var t=function(e,n){if(3===e&&n>=21&&n<=31||4===e&&n>=1&&n<=19)return 1;if(4===e&&n>=20&&n<=30||5===e&&n>=1&&n<=20)return 2;if(5===e&&n>=21&&n<=31||6===e&&n>=1&&n<=20)return 3;if(6===e&&n>=21&&n<=30||7===e&&n>=1&&n<=22)return 4;if(7===e&&n>=23&&n<=31||8===e&&n>=1&&n<=22)return 5;if(8===e&&n>=23&&n<=31||9===e&&n>=1&&n<=22)return 6;if(9===e&&n>=23&&n<=30||10===e&&n>=1&&n<=22)return 7;else if(10===e&&n>=23&&n<=31||11===e&&n>=1&&n<=21)return 8;else if(11===e&&n>=22&&n<=30||12===e&&n>=1&&n<=21)return 9;else if(12===e&&n>=22&&n<=31||1===e&&n>=1&&n<=19)return 10;else if(1===e&&n>=20&&n<=31||2===e&&n>=1&&n<=18)return 11;else if(2===e&&n>=19&&n<=29||3===e&&n>=1&&n<=20)return 12;else return 0}(e,n);if(0===t)return{status:"error",title:"ERROR",message:"什么都没占卜到喵！你输入的生日是真的喵？"};var r="q".concat(t);return(11===t||1===t)&&(r+="_v2"),{status:"success",data:"media/puzzle/losttown_10/".concat(r,".webp")}}(_,m));break;case"special/word_contest_judge":t.e(6760).then(t.bind(t,76760)).then(function(n){var t,r,s,c=n.UKACD,l=(t=i.wordlist,r=[],s=["力量","敏捷","知识","速度","智力","体力","幸运","合计"],t.forEach(function(e,n){if(e=(0,a.oS)(e),!c.includes(e)){r.push({names:[],values:[],comment:"不认识的单词！"});return}var t=o(e),i=u(t,n);if(i.every(function(e){return e}))r.push({names:s,values:t,comment:"恭喜你满足要求！"});else{var l=s.slice(0,7).filter(function(e,n){return i[n]}).join("、")+"属性符合要求。";r.push({names:s.slice(0,7),values:t.slice(0,7),comment:l})}}),{data:r});l.status="success",e(l)});break;case"special/word_contest_judge_round2":t.e(6760).then(t.bind(t,76760)).then(function(n){var t,r,s,c,l=n.UKACD,d=(t=i.wordlist,r=[],s=["d开头且长度为6","no开头","第5个字母是r","k结尾","第二个字母是p","ins开头","包含x和p"],c=["力量","敏捷","知识","速度","智力","体力","幸运","合计"],t.forEach(function(e,n){if(e=(0,a.oS)(e),!l.includes(e)){r.push({names:[],values:[],comment:"不认识的单词！"});return}var t=o(e),i=u(t,n);if(i.every(function(e){return e}))(function(e,n){switch(n){case 0:return e.startsWith("d")&&6===e.length;case 1:return e.startsWith("no");case 2:return e.length>=5&&"r"===e[4];case 3:return e.endsWith("k");case 4:return e.length>=2&&"p"===e[1];case 5:return e.startsWith("ins");case 6:return e.includes("x")&&e.includes("p");default:throw Error("Invalid index")}})(e,n)?r.push({names:c,values:t,comment:"恭喜你满足要求！"}):r.push({names:c,values:t,comment:"你做的很好，但我要求".concat(s[n],"。")});else{var d=c.slice(0,7).filter(function(e,n){return i[n]}).join("、")+"属性符合要求。";r.push({names:c.slice(0,7),values:t.slice(0,7),comment:d})}}),{data:r});d.status="success",e(d)});break;default:e({status:"error",title:"ARCHIVED",message:"归档模式不支持该请求。"})}})}function f(e){return new Promise(function(n){t.e(7885).then(t.bind(t,47885)).then(function(t){var r=t.default;return e in r?n(r[e]):n("暂无内容")})})}},38225:function(e,n,t){"use strict";t.d(n,{Fi:function(){return g},Jy:function(){return z},QK:function(){return m},QM:function(){return f},Rp:function(){return y},Sy:function(){return v},aS:function(){return w},gz:function(){return p},hf:function(){return h},j7:function(){return j},kc:function(){return _},kw:function(){return l},oS:function(){return N},tx:function(){return b},vT:function(){return k}});var r=t(24670),a=t(1801);t(57437);var s=t(5816),o=t(74850),u=t.n(o),i=t(40711),c=t.n(i);function l(e){return s.fY+e}function d(e){return e<10?"0"+e:""+e}function f(e){for(var n=0,t=u()(e).toString(),r=0;r<t.length;r++)n=((n<<5)-n+t.charCodeAt(r)|0)%361;return Math.abs(n)}function m(e){var n=new Date(1e3*e);return"".concat(n.getFullYear(),"-").concat(d(n.getMonth()+1),"-").concat(d(n.getDate()))+" ".concat(d(n.getHours()),":").concat(d(n.getMinutes()),":").concat(d(n.getSeconds()))}function _(e){var n=new Date(e);return"".concat(n.getFullYear(),"-").concat(d(n.getMonth()+1),"-").concat(d(n.getDate()))+" ".concat(d(n.getHours()),":").concat(d(n.getMinutes()),":").concat(d(n.getSeconds()))}function h(e){var n="";e<0&&(e=-e,n="-");var t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),a=e-3600*t-60*r;return r<10&&(r="0"+r),a<10&&(a="0"+a),n+t+":"+r+":"+a}function g(e){for(var n="qwertyuiopasdfghjkzxcvbnmQWERTYUPASDFGHJKLZXCVBNM23456789",t="",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function v(e,n){var t=(0,a._)(e);s=null!=n?c()(n+""):c()(Math.random()+"");for(var r=t.length-1;r>0;r--){var s,o,u=Math.floor(s()*(r+1));o=[t[u],t[r]],t[r]=o[0],t[u]=o[1]}return t}function w(e,n){return e.length<=n?e:e.slice(0,n-2)+"..."}var j=function(){var e=0,n=window.screen,t=navigator.userAgent.toLowerCase();return void 0!==window.devicePixelRatio?e=window.devicePixelRatio:~t.indexOf("msie")?n.deviceXDPI&&n.logicalXDPI&&(e=n.deviceXDPI/n.logicalXDPI):void 0!==window.outerWidth&&void 0!==window.innerWidth&&(e=window.outerWidth/window.innerWidth),e&&(e=Math.round(100*e)/100),e};function b(e,n,t,a){var s=(0,r._)(function(e,n,t,r){var a,s,o;if(0===n)a=s=o=t;else{var u=function(e,n,t){return(t<0&&(t+=1),t>1&&(t-=1),t<1/6)?e+(n-e)*6*t:t<.5?n:t<2/3?e+(n-e)*(2/3-t)*6:e},i=t<.5?t*(1+n):t+n-t*n,c=2*t-i;a=u(c,i,e+1/3),s=u(c,i,e),o=u(c,i,e-1/3)}return[Math.round(255*a),Math.round(255*s),Math.round(255*o),r]}(e,n,t,a),4),o=s[0],u=s[1],i=s[2],c=s[3];return[Math.round((1-c)*255+c*o),Math.round((1-c)*255+c*u),Math.round((1-c)*255+c*i)]}function p(e){return btoa(JSON.stringify(e))}function k(e){try{var n=atob(e);return JSON.parse(n)}catch(e){return}}function y(e,n){for(var t=Math.floor(Date.now()/1e3/60),r=0,a=0;a<e.length-1;a++)if(t>e[a+1][0])r+=(e[a+1][0]-e[a][0])*e[a][1];else if(t<=e[a][0])break;else{r+=(t-e[a][0])*e[a][1];break}var s=e.length-1;return t>e[s][0]&&(r+=(t-e[s][0])*e[s][1]),r+=n}function z(e){var n=Math.floor(Date.now()/1e3/60);if(n<e[0][0])return 0;for(var t=0;t<e.length-1;t++)if(n<e[t+1][0]&&n>=e[t][0])return e[t][1];return n>=e[e.length-1][0]?e[e.length-1][1]:0}function N(e){var n="",t=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var u=s.value;"一"<=u&&u<="鿿"?n+=u:"0"<=u&&u<="9"?n+=u:"a"<=u.toLowerCase()&&"z">=u.toLowerCase()&&(n+=u.toLowerCase())}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n}}}]);