Game_Map.prototype.setup0=Game_Map.prototype.setup;Game_Map.prototype.setup=function(mapId){this.setup0(mapId);this.clearRegionId()};Game_Map.prototype.clearRegionId=function(){this._regionIds={}};Game_Map.prototype.setRegionId=function(x,y,z){if(!this._regionIds){this.clearRegionId()}if(this.isValid(x,y)){this._regionIds[""+x+"_"+y]=z}};Game_Map.prototype.getRegionId=function(x,y){if(!this._regionIds){this.clearRegionId()}var z=-1;if(this.isValid(x,y)){var z=this._regionIds[""+x+"_"+y]}return z};Game_Map.prototype.regionId=function(x,y){var z=this.getRegionId(x,y);var i=this.isValid(x,y);if(z>=0){return i?z:0}return i?this.tileId(x,y,5):0};