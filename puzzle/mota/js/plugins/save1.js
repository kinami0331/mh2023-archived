var XdRsData=XdRsData||{};XdRsData.week=XdRsData.week||{};ConfigManager.applyData=function(config){this.alwaysDash=this.readFlag(config,"alwaysDash",false);this.commandRemember=this.readFlag(config,"commandRemember",false);this.touchUI=this.readFlag(config,"touchUI",true);this.bgmVolume=this.readVolume(config,"bgmVolume");this.bgsVolume=this.readVolume(config,"bgsVolume");this.meVolume=this.readVolume(config,"meVolume");this.seVolume=this.readVolume(config,"seVolume");this.data=config["data"]};ConfigManager.makeData=function(){const config={};config.alwaysDash=this.alwaysDash;config.commandRemember=this.commandRemember;config.touchUI=this.touchUI;config.bgmVolume=this.bgmVolume;config.bgsVolume=this.bgsVolume;config.meVolume=this.meVolume;config.seVolume=this.seVolume;config.data=this.data;return config};XdRsData.week.loadWeekData=function(){ConfigManager.load();var json;try{json=ConfigManager.data}catch(e){return null}return!!json?json:null};XdRsData.week.saveWeek=function(key,val){var data=!!this.loadWeekData()?this.loadWeekData():{};data[key]=val;ConfigManager.data=data;ConfigManager.save()};XdRsData.week.val=function(key){var data=this.loadWeekData();return!data||data[key]===undefined?null:data[key]};XdRsData.week.deleteKey=function(key){if(!this.loadWeekData())return;var data=this.loadWeekData();delete data[key];StorageManager.saveToLocalFile2("week",JSON.stringify(data))};XdRsData.week.ifval=function(key){var data=this.loadWeekData();return!data||data[key]===undefined?false:data[key]!=null?true:false};XdRsData.week.ifvalis=function(key,value){var data=this.loadWeekData();return!data||data[key]===undefined?false:data[key]==value?true:false};XdRsData.week.valset=function(key,val){XdRsData.week.saveWeek(key,val)};StorageManager.saveToLocalFile2=function(saveName,zip){const dirPath=this.fileDirectoryPath();const filePath=this.filePath(saveName);const backupFilePath=filePath+"_";this.fsMkdir(dirPath);this.fsUnlink(backupFilePath);this.fsRename(filePath,backupFilePath);try{this.fsWriteFile(filePath,zip);this.fsUnlink(backupFilePath);resolve()}catch(e){}};